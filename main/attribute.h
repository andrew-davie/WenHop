#ifndef __ATTRIBUTE_H
#define __ATTRIBUTE_H

#include "main.h"

extern const unsigned int Attribute[];
extern const unsigned char CharToType[];

enum ObjectType {

    // update Attribute[] in attribute.c
    // update AnimateBase[] in animations.c

    TYPE_SPACE,                 // 00      ASSUMED == 0 in code
    TYPE_DIRT,                  // 01
    TYPE_BRICKWALL,             // 02
    TYPE_OUTBOX_PRE,            // 03
    TYPE_OUTBOX,                // 04
    TYPE_STEELWALL,             // 05
    TYPE_ROCK,                  // 06
    TYPE_DOGE,                  // 07
    TYPE_MELLON_HUSK_PRE,       // 08
    TYPE_MELLON_HUSK,           // 09
    TYPE_PEBBLE1,               // 10
    TYPE_DUST_0,                // 11
    TYPE_DOGE_FALLING,          // 12
    TYPE_ROCK_FALLING,          // 13
    TYPE_DUST_ROCK,             // 14
    TYPE_CONVERT_GEODE_TO_DOGE, // 15
#ifdef ENABLE_SWITCH
    TYPE_SWITCH, // 16
#endif
    TYPE_PUSHER,          // 17
    TYPE_PUSHER_VERT,     // 18
    TYPE_WYRM,            // 19
    TYPE_GEODOGE,         // 20
    TYPE_GEODOGE_FALLING, // 21
    TYPE_LAVA,            // 22
    TYPE_PEBBLE_ROCK,     // 23
    TYPE_FLIP_GRAVITY,    // 24
    TYPE_BLOCK,           // 25
    TYPE_GRINDER,         // 26
    TYPE_HUB,             // 27
    TYPE_WATER,           // 28
    TYPE_WATERFLOW_0,     // 29
    TYPE_WATERFLOW_1,     // 30
    TYPE_WATERFLOW_2,     // 31
    TYPE_WATERFLOW_3,     // 32
    TYPE_WATERFLOW_4,     // 33
    TYPE_TAP,             // 34
    TYPE_OUTLET,          // 35
    TYPE_GRINDER_1,       // 36
    TYPE_BELT,            // 37
    TYPE_BELT_1,          // 38
    TYPE_CONVERT_PIPE,    // 39
    TYPE_DOGE_FALLING2,   // 40

    TYPE_MAX
};

enum ChName {

    // see charSet[] @ characterset.c
    // Objects numbered > 63 cannot be generated by cave data (6 bits)
    // see CharToType[] in attribute.c

    CH_BLANK,                 // 000
    CH_DIRT,                  // 001
    CH_BRICKWALL,             // 002
    CH_DOORCLOSED,            // 003
    CH_DOOROPEN_0,            // 004
    CH_EXITBLANK,             // 005
    CH_STEELWALL,             // 006
    CH_PEBBLE1,               // 007
    CH_PEBBLE2,               // 008
    CH_ROCK,                  // 009
    CH_ROCK_FALLING,          // 010          +2 offset assumed by code
    CH_DOGE_00,               // 011
    CH_DOGE_FALLING,          // 012          +2 offset assumed by code
    CH_MELLON_HUSK_BIRTH,     // 013
    CH_LAVA_BLANK,            // 014
    CH_LAVA_SMALL,            // 015
    CH_LAVA_MEDIUM,           // 016
    CH_LAVA_LARGE,            // 017
    CH_MELLON_HUSK,           // 018
    CH_DOGE_01,               // 019
    CH_DOGE_02,               // 020
    CH_DOGE_03,               // 021
    CH_DOGE_04,               // 022
    CH_DOGE_05,               // 023
    CH_DOGE_STATIC,           // 024 (CAN SWITCH ANIMATIONS ON THIS!)
    CH_PEBBLE_ROCK,           // 025
    CH_ROCK_PEBBLE,           // 026
    CH_ROCK_PEBBLE_1,         // 027
    CH_DUST_0,                // 028
    CH_DUST_1,                // 029
    CH_DUST_2,                // 030
    CH_GEODOGE,               // 031
    CH_CONGLOMERATE_1,        // 032
    CH_CONGLOMERATE_2,        // 033
    CH_CONGLOMERATE_3,        // 034
    CH_CONGLOMERATE_4,        // 035
    CH_CONGLOMERATE_5,        // 036
    CH_CONGLOMERATE_6,        // 037
    CH_CONGLOMERATE_7,        // 038
    CH_CONGLOMERATE_8,        // 039
    CH_CONGLOMERATE_9,        // 040
    CH_CONGLOMERATE_10,       // 041
    CH_CONGLOMERATE_11,       // 042
    CH_CONGLOMERATE_12,       // 043
    CH_CONGLOMERATE_13,       // 044
    CH_CONGLOMERATE_14,       // 045
    CH_CONGLOMERATE_15,       // 046
    CH_DUST_ROCK_0,           // 047
    CH_DUST_ROCK_1,           // 048
    CH_DUST_ROCK_2,           // 049
    CH_CONVERT_GEODE_TO_DOGE, // 050
#ifdef ENABLE_SWITCH
    CH_SWITCH_LEFT_OFF, // 051
    CH_SWITCH_LEFT_ON,  // 052
#endif
    CH_HORIZONTAL_BAR,         // 053
    CH_PUSH_LEFT,              // 054       reverse must be +1
    CH_PUSH_LEFT_REVERSE,      // 055
    CH_PUSH_RIGHT,             // 056
    CH_PUSH_RIGHT_REVERSE,     // 057
    CH_VERTICAL_BAR,           // 058
    CH_PUSH_UP,                // 059
    CH_PUSH_UP_REVERSE,        // 060
    CH_PUSH_DOWN,              // 061
    CH_PUSH_DOWN_REVERSE,      // 062
    CH_WYRM_BODY,              // 063
    CH_WYRM_VERT_BODY,         // 064
    CH_WYRM_CORNER_LD,         // 065
    CH_WYRM_CORNER_RD,         // 066
    CH_WYRM_CORNER_LU,         // 067
    CH_WYRM_CORNER_RU,         // 068
    CH_WYRM_HEAD_U,            // 069
    CH_WYRM_HEAD_R,            // 070
    CH_WYRM_HEAD_D,            // 071
    CH_WYRM_HEAD_L,            // 072
    CH_GEODOGE_FALLING,        // 073
    CH_FLIP_GRAVITY_0,         // 074
    CH_FLIP_GRAVITY_1,         // 075
    CH_FLIP_GRAVITY_2,         // 076
    CH_BLOCK,                  // 077
    CH_GRINDER_0,              // 078
    CH_GRINDER_1,              // 079
    CH_HUB,                    // 080
    CH_WATER,                  // 081
    CH_WATERFLOW_0,            // 082 must be grouped
    CH_WATERFLOW_1,            // 083 .
    CH_WATERFLOW_2,            // 084 .
    CH_WATERFLOW_3,            // 085 .
    CH_WATERFLOW_4,            // 086 /
    CH_TAP_0,                  // 087
    CH_HUB_1,                  // 088
    CH_OUTLET,                 // 089
    CH_TAP_1,                  // 090
    CH_BELT_0,                 // 091
    CH_BELT_1,                 // 092
    CH_PUSH_DOWN2,             // 093
    CH_GEODOGE_CONVERT,        // 094
    CH_CONVERT_PIPE,           // 095
    CH_WYRM_TAIL_U,            // 096
    CH_WYRM_TAIL_R,            // 097
    CH_WYRM_TAIL_D,            // 098
    CH_WYRM_TAIL_L,            // 099
    CH_DOGE_FALLING_TOP,       // 100
    CH_DOGE_FALLING_BOTTOM,    // 101
    CH_ROCK_FALLING_TOP,       // 102
    CH_ROCK_FALLING_BOTTOM,    // 103
    CH_GEODOGE_FALLING_TOP,    // 104
    CH_GEODOGE_FALLING_BOTTOM, // 105
    CH_DOGE_FALLING_TOP2,      // 106
    CH_DOGE_FALLING_BOTTOM2,   // 107
    CH_DOGE_SIDE_1,            // 108
    CH_DOGE_SIDE_3,            // 109
    CH_DOGE_SIDE_2,            // 110
    CH_DOGE_SIDE_4,            // 111

    // 127 is limit

    CH_MAX
};

// clang-format off

#define ENUM_BIT_VALUE(counter) (1 << counter)

#define DEFINE_ENUM_WITH_BIT_VALUES(enumType, ...) \
    typedef enum { \
        __VA_ARGS__ \
    } enumType

#define ATT(enumConstant) ATT_##enumConstant = ENUM_BIT_VALUE(__COUNTER__)

DEFINE_ENUM_WITH_BIT_VALUES(TypeAttributes,

    ATT(ROLL),                  // 00
    ATT(CONVERT),               // 01
    ATT(EXPLODABLE),            // 02
    ATT(PERMEABLE),             // 03
    ATT(BLANK),                 // 04
    ATT(DIRT),                  // 05
    ATT(GRAB),                  // 06
    ATT(PUSH),                  // 07
    ATT(SQUASHABLE_TO_BLANKS),  // 08
    ATT(HARD),                  // 09
    ATT(EXIT),                  // 10
    ATT(NOROCKNOISE),           // 11
    ATT(BLANKISH),              // 12
    ATT(MINE),                  // 13
    ATT(WATERFLOW),             // 14
    ATT(CONVEYOR),              // 15
    ATT(GRIND),                 // 16
    ATT(PIPE),                  // 17
    ATT(PHASE4),                // 18
    ATT(PHASE2),                // 19
    ATT(PHASE1),                // 20
    ATT(DISSOLVES),             // 21
    ATT(MELTS),                 // 22
    ATT(GEODOGE),               // 23
    ATT(PAD),                   // 24
    ATT(CRUSHES),               // 26
    ATT(CORNER),                // 25
);

#define POS_CORNER 26
#define VALUE_BREAK_GEODE 25

#endif
